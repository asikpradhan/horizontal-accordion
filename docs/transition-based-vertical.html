<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        .accordion-fixed {
            display: flex;
        }

        .accordion-fixed-item {
            display: block;
            position: relative;
            border-left: 2rem solid;
            border-color: #369;
        }

        .accordion-fixed-item--button {
            background: #369;
            height: 2rem;
            border: none;
            outline: none;
            padding: .3rem .7rem;
            margin: 0 0 1rem 0;
            line-height: 1.5rem;
            position: absolute;
            transform-origin: 0 0;
            transform: rotate(90deg);
            white-space: nowrap;
        }
        .accordion-fixed-item--button:after {
            content: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>');
        }

        .accordion-panel {
            display: none;
        }

        .transparent .accordion-panel {
            opacity: 0;
            display: block;
        }

        .active .accordion-panel {
            display: block;
            opacity: 1;
            transition: opacity .3s;
        }

    </style>
</head>
<body>
<h2>Accordions</h2>
<div class="accordion">
    <div class="accordion-item active">
        <button class="accordion-button">Section 1</button>
        <section class="accordion-panel">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore
                magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
                commodo
                consequat.</p>
        </section>
    </div>
    <div class="accordion-item">
        <button class="accordion-button">Section 2</button>
        <section class="accordion-panel">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore
                magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
                commodo
                consequat.</p>
        </section>
    </div>
    <div class="accordion-item">
        <button class="accordion-button">Section 3</button>
        <section class="accordion-panel">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore
                magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
                commodo
                consequat.</p>
        </section>
    </div>
</div>


<script>

    const inActivateAll = (current) => {
        const accordionNode = current.parentNode.parentNode;
        accordionNode.querySelectorAll(":scope > .accordion-fixed-item").forEach(item => {
            item.classList.remove("active");

        });
    };

    const accordionButtons = document.getElementsByClassName("accordion-fixed-item--button");
    Array.from(accordionButtons).forEach(accordionButton => {
        accordionButton.addEventListener("click", evt => {
            inActivateAll(evt.currentTarget);
            const parentNode = evt.currentTarget.parentNode;
            parentNode.classList.add("transparent");
            setTimeout(() => {
                parentNode.classList.remove("transparent");
                parentNode.classList.add("active");
            }, 100);
        });
    });
</script>

</body>
</html>
